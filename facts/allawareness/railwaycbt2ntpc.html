<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NTPC CBT 2 2022</title> 
			<script src="../../urlRewrite.js"></script><link rel="shortcut icon" href="../../icon2.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   <style>
  
         body { 
           font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		   font-size: 12px;
}
 

    
.text-success-transparent {
  color: rgba(0,160, 0, 1); /* Transparent green color */
}

@keyframes shake {
  0% { transform: translateX(0); }
  10%, 90% { transform: translateX(-5px); }
  20%, 80% { transform: translateX(5px); }
  30%, 50%, 70% { transform: translateX(-5px); }
  40%, 60% { transform: translateX(5px); }
  100% { transform: translateX(0); }
}

.shake {
  animation: shake 0.1s ease-in-out;
}

/* Additional CSS for the option border */
.option-border {
    position: relative; /* Make the container relative for absolute positioning */
    border-radius: 5px;
    border: 1px solid #ccc;
    padding: 3px;
}

/* Hide the default radio button */
.form-check-input {
    display: none;
}

/* Style the label to look like a clickable option */
.form-check-label {
    cursor: pointer;
    display: block;
    position: relative;
}

/* Add styles to label when hovering over it */
.form-check-label:hover .option-border {
    background-color: #f0f0f0;
}

/* Adjustments to form-check-label */
.form-check-label:before {
    content: '';
    display: inline-block;
    width: 20px; /* Adjust width as needed */
    height: 20px; /* Adjust height as needed */
    border: 1px solid #ccc;
    border-radius: 50%;
    position: absolute;
    left: -30px; /* Adjust spacing between circle and text */
    top: 50%;
    transform: translateY(-50%);
}

/* Change styles of label when radio button is checked */
.form-check-input:checked + .form-check-label:before {
    background-color: #007bff; /* Change color when checked */
}


    label {
      font-weight: bold;
	  font-size: 20px;
    }


button.cool {
		background: white;
		font-size: 10px;
		display: block;
		width: 100%;
      padding: 02px;
	  margin-bottom: 10px;
      border: 2px solid indigo;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
	
	button.cool:hover {
	display: none;
	}
	



button {
      padding: 5px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: orange;
      color: blue;
    }

    .btn-primary {
      background-color: ;
    }

    .btn-success {
      background-color: ;
    }

    .btn-primary:hover {
      background-color: ;
    }

    .btn-success:hover {
      background-color: #218838;
    }

    .btn-container {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .btn-container button {
      flex: 1;
      margin: 0 5px;
    }

    input[type="number"] {
      padding: 7px;
      border-radius: 5px;
      border: 1px solid #ccc;
      width: 60px;
    }


.sidebar {
  height: 100%;
  margin-top: 35px;
  width: 250px;
  position: fixed; /* Change position to fixed */
  top: 0;
  left: -250px; /* Move sidebar off-screen initially */
  background-color: #f2f2f2;
  overflow-x: hidden;
  padding-top: 20px;
  transition: 0.5s;
  z-index: 1; /* Ensure the sidebar is above the content */
}
.sidebar a {
  padding: 10px 15px;
  text-decoration: none;
  font-size: 20px;
  display: block;
  transition: 0.1s;
}
.sidebar a:hover {
  background-color: #ddd;
}
.container {
  padding-left: 0; /* Remove padding from the container */
  transition: 0.5s;
}
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: ;
  padding: 10px;
  z-index: 2; /* Ensure the navbar is above the sidebar */
}
	    /* Dark mode styles */
body.dark-mode {
    background-color: #333;
    color: #fff;
}

.headerbar {
		background: orange;
		color: #FFF;
		line-height: 50px;
		position: fixed;
		top: 0;
		left: 0px;
		right: 0px;
		height: 60px;
		display: flex;
		padding: 02px;
		justify-content: space-between;
		z-index: 1000;
		}

 .navbot {
            background: white;
            color: #FFF;
            line-height: 30px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
			box-shadow: 0 -5px 5px -5px #333;
			padding-top: 10px;
			padding-bottom: 10px;
            z-index: 1000;
            display: flex;
            justify-content: space-around;
            transition: transform 0.3s; /* Add a smooth transition effect */
        }

        .navbot.hidden {
            transform: translateY(100%); /* Move the navbar outside the viewport */
        }

               .navbot div {
            display: flex;
            gap: 10px;
        }
		
		.exim {
		position: fixed;
		top: 70px;
		height:60px;
		width: 100%;
		background: #4169E1;
		color: white;
		     z-index: 1000;

		}

main {
padding-top: 60px;
padding-left: 05px;
padding-left: 05px;
padding-bottom: 200px;
margin-bottom: 03px;
}

.btn-bookmark {
position: absolute;
right: 5%;
font-size: 15px;
border: 2px solid gray;
margin-left: 30px;}

.takemargin {
margin-bottom: 10px;
}
  </style>
</head>
<body> 
	
<div class="container">
  <div class="navbar">   <header class="headerbar">
   <div><b onclick="toggleSidebar()" style="cursor: pointer; padding-left: 10px; font-size: 50px;">‚ò∞ </b></div>
   <div><img src="../../icon1.png" width="50px" height="51px"><b style="cursor: pointer; color:  #2E58ED; padding-right: 15px; font-size: 30px;">GangaTricks</b></div>
   </header>

<div id="sidebar" class="sidebar">
<a style="text-align: left; background: lightblue; font-size: 20px; color: grey;">‚úêGangaTricks <button class="navbar-toggle" onclick="toggleSidebar()" style="font-size: 25px; padding: 00px;">‚ùé</button></a>    
<a href="#" onclick="goToWebsite()">Home üè†</a>
    <a href="#" onclick="goToHub()">Awareness</a>
    <a href="#" onclick="goToEnglish()">English</a>
    <a href="#" onclick="examQuiz()">ExamQuiz</a>
    <a href="#">Live Mocks</a>
<a href="#" onclick="showBookmarkedQuestions()">üîñ Bookmarks</a>
    
<div class="container">
        <h3 style="text-align: right;">Toolsüî®</h3>
        <button onclick="toggleDarkMode()" style="color: white; item-align: right; background: black; border: 2px solid white;">Dark Mode</button>
    </div>
	
	
	
	
  </div>
</div>
<script>
 // Load the completed work count when the page loads
    window.onload = function() {
        displayCompletedWork();
        // Ensure input field reflects the saved count
        document.getElementById('completedCount').value = getCompletedWork();
    };

    function saveCompletedWork() {
        var completedCount = document.getElementById('completedCount').value;
        localStorage.setItem(`completedCount_${uniqueIdentifier}`, completedCount);
        displayCompletedWork(); // Update the displayed count immediately

        // Update input field value
        document.getElementById('completedCount').value = completedCount;
    }

    // Function to retrieve the completed work count from local storage
    function getCompletedWork() {
        return localStorage.getItem(`completedCount_${uniqueIdentifier}`) || '0';
    }

    // Function to display the completed work count from local storage
    function displayCompletedWork() {
        var completedCount = getCompletedWork();
        var displayCountElement = document.getElementById('displayCount');
        if (displayCountElement) {
            displayCountElement.textContent = completedCount; // Set count inside span
        }
        var completedCountDisplayElement = document.getElementById('completedCountDisplay');
        if (completedCountDisplayElement) {
            completedCountDisplayElement.textContent = `Mark: ${completedCount}üèÉ`; // Set count outside input field
        }
    }

	// Function to toggle dark mode
function toggleDarkMode() {
    const body = document.body;
    const isDarkMode = body.classList.contains('dark-mode');
    
    // Toggle the class and set the cookie
    if (isDarkMode) {
        body.classList.remove('dark-mode');
        setDarkModeCookie(false); // Set cookie to false (light mode)
    } else {
        body.classList.add('dark-mode');
        setDarkModeCookie(true); // Set cookie to true (dark mode)
    }
}

// Function to set the dark mode cookie
function setDarkModeCookie(isDarkMode) {
    document.cookie = `darkMode=${isDarkMode}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`;
}

// Function to check if dark mode preference is stored in the cookie and apply it
function applyDarkModeFromCookie() {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
        const [name, value] = cookie.trim().split('=');
        if (name === 'darkMode' && value === 'true') {
            document.body.classList.add('dark-mode');
            return;
        }
    }
}

// Apply dark mode preference from the cookie on page load
applyDarkModeFromCookie();

function toggleSidebar() {
  var sidebar = document.getElementById("sidebar");
  if (sidebar.style.left === "-250px") {
    sidebar.style.left = "0";
  } else {
    sidebar.style.left = "-250px";
  }
}

 function goToHub() {
        // Change 'https://example.com' to the actual URL you want to redirect to
        window.location.href = '../../awareness/awareness1.html';
    }

  function goToWebsite() {
        // Change 'https://example.com' to the actual URL you want to redirect to
        window.location.href = '../../index.html';
    }
 function examQuiz() {
        // Change 'https://example.com' to the actual URL you want to redirect to
        window.location.href = '../../examquiz/examquiz.html';
    }

 function goToEnglish() {
        // Change 'https://example.com' to the actual URL you want to redirect to
        window.location.href = '../../english/english1.html';
    }


</script>

<main>

<div class="layer" id="layer1">

<h6>Technology NTPC 2021 | Total Questions :  <span id="totalQuestionCount"></span>/<span id="bookmarkedCount"></span>|<b id="completedCountDisplay" style="text-align: left;">Mark: <span id="displayCount"></span>üèÉ</b>|<b class="btn-copy" style="cursor: pointer;">üìã</b>|<input type="number" class="displayCount" id="completedCount"/><button onclick="saveCompletedWork()" style="border: 2px solid gray;">Save</button></h6>

		<div class="takemargin">
			<label for="jumpToQuestion"></label>
			<input type="number" id="jumpToQuestion" min="1">
			<button onclick="jumpToQuestion()" style="border: 2px solid gray; font-size: 15px;">Jump</button>
			<button class="btn btn-bookmark" onclick="toggleBookmark()">Bookmark</button>
		</div>

  <div class="question-container" id="question-container">
			<div id="question" class="h4" style="box-shadow: rgba(17, 17, 26, 0.05) 0px 4px 16px, rgba(17, 17, 26, 0.05) 0px 8px 32px; padding: 10px;"></div>
			<div id="options" style="box-shadow: rgba(9, 30, 66, 0.25) 0px 1px 1px, rgba(9, 30, 66, 0.13) 0px 0px 1px 1px; padding: 20px;"></div>
			<div class="explanation"></div>

	<div class="btn-container">
      <button class="btn btn-primary" onclick="showPreviousQuestion()" style="display: none;">Previous</button>
      <button class="btn btn-success" onclick="showAnswer()" style="display: none;">Open</button>
      <button class="btn btn-primary" onclick="showNextQuestion()" style="display: none;">Next</button>
    </div>
	
  </div>


</div>
   </main>
   
   <div class="navbot" id="navbot">
        <div>
            <button class="h5" onclick="hideBookmarkedQuestions()" style="border: 3px solid orange; padding: 01px; font-size: 10px; filter: grayscale(50%);"><h5>ñ†øHome</h5></button>
            <button class="h5" onclick="toggleDarkMode()" style="border: 3px solid orange; padding: 00px; font-size: 10px; filter: grayscale(50%);"><h5>‚óêDark</h5></button>
<button class="h6" id="toggleBookmarkQuestions" onclick="togglePopulateBookmarkedQuestions()" style="border: 3px solid orange; font-size: 15px; padding: 00px; filter: grayscale(50%);"><h5>üîñ<span>Saved</span></h5></button>
<button class="h6" onclick="showBookmarkedQuestions()" style="font-size: 10px; border: 3px solid orange; padding: 00px; filter: grayscale(50%);"><h5>‚ú®</h5></button>

<button class="h6" onclick="goBack()" style="border: 3px solid orange; padding: 00px; font-size: 10px;"><h5>üîô</h5></button>          </div>
    </div>

    <script>
        function goBack() {
            window.history.back();
        }
	
        var prevScrollpos = window.pageYOffset;

        window.onscroll = function() {
            var currentScrollPos = window.pageYOffset;
            var navbar = document.getElementById('navbot');

            if (prevScrollpos > currentScrollPos) {
                navbar.classList.remove('hidden');
            } else {
                navbar.classList.add('hidden');
            }

            prevScrollpos = currentScrollPos;
        };
    </script>


<!-- Layer 2 to display bookmarked questions -->
<div class="layer" id="layer2" style="display: none;">

<div class="exim">


<button onclick="exportBookmarksToFile()" style="background: indigo; color: white; font-size: 15px; padding: 02px;">Export ‚¨áÔ∏è</button>
<input type="file" id="importFileInput" style="display: none;" onchange="importBookmarksFromFile(event)">
<button onclick="document.getElementById('importFileInput').click()" style="background: indigo; color: white; font-size: 15px; padding: 02px;">Import ‚¨ÜÔ∏è</button>

  <h2>Bookmarked Questions</h2>


</div>





  <!-- Close button to hide layer 2 and show layer 1 -->
  <button class="btn btn-secondary" onclick="hideBookmarkedQuestions()" style="display: none;">Close</button>

  <div id="bookmarkedQuestions" style="overflow-y: scroll; position: fixed; top: 140px; max-height: 70%;"></div>
</div>

<script>
let bookmarks = [];
let currentQuestionIndex = 0;
const questionContainer = document.getElementById('question-container');
const questionElement = document.getElementById('question');
const optionsElement = document.getElementById('options');
let currentBookmarkIndex = 0; // Keep track of the current bookmarked question index
let populateBookmarkedQuestions = false;


    var bookmarkedQuestions = document.getElementById('bookmarkedQuestions');
    var lastScrollTop = 0;

    // Function to load more content when the user scrolls to the bottom
    function loadMoreContent() {
      var scrollTop = bookmarkedQuestions.scrollTop;
      var scrollHeight = bookmarkedQuestions.scrollHeight;
      var clientHeight = bookmarkedQuestions.clientHeight;

      if (scrollTop > lastScrollTop) {
        if (scrollTop + clientHeight >= scrollHeight) {
          // Load more content here
          // Example: fetch more bookmarked questions from the server and append them to the #bookmarkedQuestions element

          // For example:
          // fetch('/load-more-bookmarked-questions')
          //   .then(response => response.json())
          //   .then(data => {
          //     // Append the new questions to the #bookmarkedQuestions element
          //     // Example: data.forEach(question => { /* Append question to #bookmarkedQuestions */ });
          //   });
        }
      }

      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // For Mobile or negative scrolling
    }

    // Add event listener for scroll events
    bookmarkedQuestions.addEventListener('scroll', loadMoreContent);


function showQuestion() {

correctOptionText = ''; // Initialize correctOptionText
    // Rest of your existing showQuestion code
    // Get the current question
    let currentQuestion;

    // Check if only bookmarked questions should be populated
    if (populateBookmarkedQuestions) {
        // Get the bookmarked indices
        const bookmarkedIndices = getBookmarkedIndices();
        
        // If there are bookmarked questions, select the current one
        if (bookmarkedIndices.length > 0) {
            // Select the current bookmarked question
            currentQuestionIndex = bookmarkedIndices[currentBookmarkIndex];
            
            // Update current bookmark index for cycling through bookmarked questions
            currentBookmarkIndex = (currentBookmarkIndex + 1) % bookmarkedIndices.length;
        }
    }

    // Get the current question
    currentQuestion = questions[currentQuestionIndex]; 

    // Shuffle the options
    const shuffledOptions = shuffleArray(currentQuestion.options);

    // Display the question text
        questionElement.textContent = `Q.${currentQuestionIndex + 1}: ${currentQuestion.question}`;


     <!-- Generate HTML for options -->
const optionsHTML = shuffledOptions.map((option, index) => {
    return `
        <div class="form-check" style="margin-bottom: 10px; opacity: 0; transform: translateY(20px); transition: opacity 0.3s ease, transform 0.3s ease;">
            <input class="form-check-input" type="radio" name="option" value="${index}" id="option${index}">
            <label class="form-check-label" for="option${index}">
                <div class="option-border">
                    ${option}
                </div>
            </label>
        </div>`;
}).join('');

// Set the HTML for options
optionsElement.innerHTML = optionsHTML;

    // Apply animations after rendering
    const optionContainers = document.querySelectorAll('.form-check');
    optionContainers.forEach((optionContainer, index) => {
        setTimeout(() => {
            optionContainer.style.opacity = '1';
            optionContainer.style.transform = 'translateY(0)';
        }, index * 100); // Adjust the delay as needed
    });

    // Update bookmark button text
    const bookmarkButton = document.querySelector('.btn-bookmark');
    bookmarkButton.textContent = bookmarks[currentQuestionIndex] ? 'ü§©' : '‚ú® Bookmark';
}


    function togglePopulateBookmarkedQuestions() {
        populateBookmarkedQuestions = !populateBookmarkedQuestions;
        const toggleButton = document.getElementById('toggleBookmarkQuestions');
        toggleButton.textContent = populateBookmarkedQuestions ? '‚õîExit' : 'üîñSaved';
        showQuestion();
    }


    function getCurrentQuestion() {
        // Modify this function to return the current question based on the currentQuestionIndex
    }

    function getBookmarkedIndices() {
        const bookmarkedIndices = [];
        for (let i = 0; i < bookmarks.length; i++) {
            if (bookmarks[i]) {
                bookmarkedIndices.push(i);
            }
        }
        return bookmarkedIndices;
    }






// Function to shuffle an array using Fisher-Yates algorithm
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}



// Copy question and options
const copyButton = document.querySelector('.btn-copy');
copyButton.addEventListener('click', () => {
    const questionText = document.querySelector('#question').textContent;
    const optionElements = document.querySelectorAll('.form-check-label');
    
    let optionsText = '';
    let correctOptionText = null;
    let correctOptionIndex = null;

    optionElements.forEach((optionElement, index) => {
        const optionText = optionElement.textContent.trim();
        const isCorrect = optionElement.querySelector('.text-info'); // Check for correct answer indication
        optionsText += `Option ${index + 1}: ${optionText}${isCorrect ? ' ‚òëÔ∏èCorrect' : ''}\n`;

        if (isCorrect) {
            correctOptionText = optionText;
            correctOptionIndex = index + 1;
        }
    });

    let textToCopy = `${questionText}\n\n${optionsText}\n`;

    if (correctOptionText && correctOptionIndex) {
        textToCopy += `The Correct Option ${correctOptionIndex}: ${correctOptionText}\n                 ‚òëÔ∏èCorrect  ‚òëÔ∏èCorrect\n`;
    }

    const textarea = document.createElement('textarea');
    textarea.value = textToCopy;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);

    // Toggle button text
    copyButton.textContent = '‚úÖ';
    setTimeout(() => {
        copyButton.textContent = 'üìã';
    }, 2000); // Reset text after 2 seconds
});



// Function to update bookmark count
function updateBookmarkedCount() {
  const bookmarkedCount = bookmarks.filter(Boolean).length; // Count the number of true values (bookmarked questions)
  const bookmarkedCountElement = document.getElementById('bookmarkedCount');
  bookmarkedCountElement.textContent = `See: ${bookmarkedCount}`;
}

// Function to toggle bookmark for the current question
function toggleBookmark() {
  // Toggle the bookmarked state for the current question
  bookmarks[currentQuestionIndex] = !bookmarks[currentQuestionIndex];
  saveBookmarksToLocalStorage(); // Save bookmarks to local storage
  
  // Update the UI to reflect the new bookmarked state
  showQuestion();
  
  // Update the bookmark count
  updateBookmarkedCount();
}

// Call the updateBookmarkedCount function when the window is fully loaded
window.addEventListener('load', function() {
  updateBookmarkedCount();
});

 



// Function to load the current question index from local storage
function loadCurrentQuestionIndex() {
  const storedIndex = localStorage.getItem(`${uniqueIdentifier}_currentQuestionIndex`); // Using unique identifier
  if (storedIndex !== null) {
    currentQuestionIndex = parseInt(storedIndex);
  }
}

// Call the function to load the current question index from local storage when the page loads
window.addEventListener('load', function() {
  loadCurrentQuestionIndex();
  showQuestion();
});

// Function to save the current question index to local storage
function saveCurrentQuestionIndex() {
  localStorage.setItem(`${uniqueIdentifier}_currentQuestionIndex`, currentQuestionIndex); // Using unique identifier
}

// Call the function to save the current question index to local storage when the user navigates to the next or previous question
window.addEventListener('beforeunload', function() {
  saveCurrentQuestionIndex();
});




 const uniqueIdentifier = 'technologyntpc2021underntpcfacts';

        loadUserDataAndBookmarksFromLocalStorage(uniqueIdentifier);

        function saveUserDataAndBookmarksToLocalStorage(identifier) {
            localStorage.setItem(`userdata_bookmarks_${identifier}`, JSON.stringify(bookmarks));
        }

        function loadUserDataAndBookmarksFromLocalStorage(identifier) {
            const storedData = localStorage.getItem(`userdata_bookmarks_${identifier}`);
            if (storedData) {
                bookmarks = JSON.parse(storedData);
            }
        }

 function saveBookmarksToLocalStorage() {
            saveUserDataAndBookmarksToLocalStorage(uniqueIdentifier);
        }
	
		function exportBookmarksToFile() {
    const bookmarksData = JSON.stringify(bookmarks);
    const blob = new Blob([bookmarksData], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${document.title.replace(/[^a-zA-Z0-9]/g, '')}_bookmarks.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}


function importBookmarksFromFile(event) {
    const file = event.target.files[0];
    const reader = new FileReader();
    reader.onload = function (e) {
        const importedBookmarks = JSON.parse(e.target.result);
        if (importedBookmarks) {
            bookmarks = importedBookmarks;
            saveUserDataAndBookmarksToLocalStorage(uniqueIdentifier);
            showQuestion();
        }
    };
    reader.readAsText(file);
}
		
		
		
	
// Call the function to load bookmarks from local storage when the page loads
window.addEventListener('load', function() {
    loadUserDataAndBookmarksFromLocalStorage(uniqueIdentifier);
    showQuestion();
});

  function showBookmarkedQuestions() {
  // Hide layer 1
  const layer1 = document.getElementById('layer1');
  layer1.style.display = 'none';

  // Get the container for bookmarked questions
  const bookmarkedQuestionsContainer = document.getElementById('bookmarkedQuestions');
  bookmarkedQuestionsContainer.innerHTML = ''; // Clear previous content

  // Initialize count for bookmarked questions
  let bookmarkedCount = 0;

  // Iterate through all questions to collect bookmarked ones
  for (let i = 0; i < questions.length; i++) {
    if (bookmarks[i]) {
      bookmarkedCount++; // Increment bookmarked count

      // Create a div for each bookmarked question
      const questionDiv = document.createElement('div');
      questionDiv.classList.add('bookmarked-question');

      // Display the question
      const questionText = document.createElement('p');
      questionText.textContent = `Question ${i + 1}: ${questions[i].question}`;
	  questionText.style.fontSize = '18px'; // Change the font size as needed
      questionDiv.appendChild(questionText);

      // Display the options as radio buttons
      const optionsList = document.createElement('ul');
      optionsList.style.listStyleType = 'none';
      for (let j = 0; j < questions[i].options.length; j++) {
        const optionItem = document.createElement('li');
        const optionLabel = document.createElement('label');
        const optionInput = document.createElement('input');
        optionInput.type = 'radio';
        optionInput.name = `question${i}`;
        optionInput.value = j;
        optionInput.addEventListener('change', function() {
          // Highlight the correct option when any option is selected
          const correctOptionIndex = questions[i].options.indexOf(questions[i].correctOption);
          const correctOptionLabel = optionsList.querySelectorAll('label')[correctOptionIndex];
          correctOptionLabel.style.backgroundColor = 'lightgreen';
        });
        optionLabel.textContent = questions[i].options[j];
        optionLabel.prepend(optionInput);
        optionItem.appendChild(optionLabel);
        optionsList.appendChild(optionItem);
      }
      questionDiv.appendChild(optionsList);

      // Add a button to check the correct answer
      const checkAnswerButton = document.createElement('button');
      checkAnswerButton.textContent = 'Check Answer';
      checkAnswerButton.onclick = function() {
        // Get the selected option
        const selectedOption = optionsList.querySelector('input:checked');
        if (selectedOption) {
          const selectedIndex = parseInt(selectedOption.value);
          if (questions[i].options[selectedIndex] === questions[i].correctOption) {
            // Highlight the correct option
            const correctOptionIndex = questions[i].options.indexOf(questions[i].correctOption);
            const correctOptionLabel = optionsList.querySelectorAll('label')[correctOptionIndex];
            correctOptionLabel.style.backgroundColor = 'gray';
          }
        } else {
          // No option selected
          alert('Please select an option.');
        }
      };
      questionDiv.appendChild(checkAnswerButton);

      // Add a button to remove the bookmark
      const removeBookmarkButton = document.createElement('button');
      removeBookmarkButton.textContent = 'Remove Bookmark';
      removeBookmarkButton.onclick = function() {
        // Remove the bookmark for this question
        bookmarks[i] = false;
        // Update the UI to reflect the change
        showBookmarkedQuestions(); // Update the bookmarked questions list
      };
      questionDiv.appendChild(removeBookmarkButton);

      // Add the bookmarked question to the container
      bookmarkedQuestionsContainer.appendChild(questionDiv);
    }
  }
// Display total bookmarked questions count
const bookmarkedCountElement = document.createElement('p');
bookmarkedCountElement.textContent = `Total Bookmarked Questions: ${bookmarkedCount}`;
bookmarkedCountElement.style.color = 'black'; // Set text color to blue
bookmarkedCountElement.style.fontWeight = 'bold'; // Make text bold
bookmarkedCountElement.style.fontSize = '14px'; // Set font size
bookmarkedCountElement.style.backgroundColor = 'gold'; // Add background color
bookmarkedCountElement.style.padding = '8px'; // Add padding for better appearance
bookmarkedCountElement.style.marginBottom = '10px'; // Add some margin bottom for spacing
bookmarkedQuestionsContainer.prepend(bookmarkedCountElement);

  // Show layer 2
  const layer2 = document.getElementById('layer2');
  layer2.style.display = 'block';
}





function hideBookmarkedQuestions() {
  // Hide layer 2
  const layer2 = document.getElementById('layer2');
  layer2.style.display = 'none';

  // Show layer 1
  const layer1 = document.getElementById('layer1');
  layer1.style.display = 'block';
}


  function showNextQuestion() {
    if (currentQuestionIndex < questions.length - 1) {
      resetQuestionContainer();
      currentQuestionIndex++;
      showQuestion();
    }
  }

function showPreviousQuestion() {
    resetQuestionContainer();
    if (populateBookmarkedQuestions) {
        const bookmarkedIndices = getBookmarkedIndices();
        if (bookmarkedIndices.length > 0) {
            // Find the nearest previous bookmarked question index
            let nearestIndex = -1;
            for (let i = bookmarkedIndices.length - 1; i >= 0; i--) {
                if (bookmarkedIndices[i] < currentQuestionIndex) {
                    nearestIndex = i;
                    break;
                }
            }
            // Update current bookmark index
            if (nearestIndex !== -1) {
                currentBookmarkIndex = nearestIndex;
                currentQuestionIndex = bookmarkedIndices[currentBookmarkIndex];
            }
        }
    } else {
        currentQuestionIndex = (currentQuestionIndex - 1 + questions.length) % questions.length;
    }
    showQuestion();
}

function showAnswer() {
  const selectedOption = document.querySelector('input[name="option"]:checked');
  if (selectedOption) {
    const currentQuestion = questions[currentQuestionIndex];
    const isCorrect = currentQuestion.correctOption === currentQuestion.options[parseInt(selectedOption.value)];

     // Display selected option feedback
    const selectedLabel = selectedOption.parentElement.querySelector('.form-check-label');
    selectedLabel.innerHTML += isCorrect ? ' <i class="fas fa-check text-success"></i>' : ' <i class="fas fa-times text-danger"></i>';
    selectedLabel.classList.add(isCorrect ? 'text-success' : 'text-danger');

    // Display correct option feedback
 // Display correct option feedback
const correctOptionIndex = currentQuestion.options.findIndex(option => option === currentQuestion.correctOption);
const correctOptionBorder = document.querySelector(`#option${correctOptionIndex} + .form-check-label .option-border`);

if (correctOptionBorder) {
  correctOptionBorder.innerHTML += ' <span class="text-success-transparent">‚òëCorrect</span>';
  correctOptionBorder.classList.add('text-success-transparent');
  correctOptionBorder.classList.add('shake'); // Apply shake class
}

// Preserve existing option texts
currentQuestion.options.forEach((option, index) => {
  if (index !== correctOptionIndex) {
    const optionLabel = document.querySelector(`#option${index} + .form-check-label .option-border`);
    if (optionLabel) {
      optionLabel.innerHTML = option; // Reset option text
    }
  }
});

    // Display explanation
    const explanation = document.createElement('p');
    explanation.innerHTML = `<button class="cool">${currentQuestion.correctOption || ''}</button><br><h6>${currentQuestion.explanation || ''}</h6>`;
    optionsElement.appendChild(explanation);
	
	 // Update correctOptionText for copying
        correctOptionText = `correctOption ${correctOptionIndex + 1}: ${currentQuestion.correctOption}`;
		
	
  }
}

document.addEventListener('change', function(event) {
  if (event.target.tagName.toLowerCase() === 'input' && event.target.type === 'radio' && event.target.name === 'option') {
    showAnswer();
  }
});





function resetQuestionContainer() {
    questionContainer.classList.remove('current-question');
    setTimeout(() => {
      questionContainer.classList.add('current-question');
    }, 10); // Small delay to ensure smooth transition
  }

document.addEventListener('keydown', function(event) {
  switch (event.key) {
    case 'ArrowLeft':
      showPreviousQuestion();
      break;
    case 'ArrowRight':
      showNextQuestion();
      break;
    case 'ArrowUp':
      showAnswer();
      break;
    case '1':
    case '2':
    case '3':
    case '4':
	case '5':
      // Convert the key to an index (0-based)
      const index = parseInt(event.key) - 1;
      const radios = document.getElementsByName('option');
      if (index >= 0 && index < radios.length) {
        radios[index].checked = true;
      }
      break;
    default:
      break;
  }
});

let touchStartX = 0;
let touchStartY = 0;
let touchEndX = 0;
let touchEndY = 0;
let isSwipe = false;


document.addEventListener('touchstart', function(event) {
  touchStartX = event.touches[0].clientX;
  touchStartY = event.touches[0].clientY;
  isSwipe = false; // Reset the flag for each touchstart
});

document.addEventListener('touchmove', function(event) {
  touchEndX = event.touches[0].clientX;
  touchEndY = event.touches[0].clientY;

  // Calculate the distance moved in the X and Y directions
  const deltaX = touchEndX - touchStartX;
  const deltaY = touchEndY - touchStartY;

  // If the distance moved in the X direction is greater than the threshold, consider it a swipe
  if (Math.abs(deltaX) > 10) {
    isSwipe = true;
  }
});

document.addEventListener('touchend', function(event) {
  if (isSwipe) {
    const deltaX = touchEndX - touchStartX;
    const deltaY = touchEndY - touchStartY;

    const touchSensitivity = 50; // Adjust as needed

    if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > touchSensitivity) {
      if (deltaX > 0) {
        // Swipe right (previous question)
        showPreviousQuestion();
      } else {
        // Swipe left (next question)
        showNextQuestion();
      }
    } else if (Math.abs(deltaY) > touchSensitivity) {
      if (deltaY < 0) {
        // Swipe up (open answer)
        showAnswer();
      }
    }
  }
});
  
function jumpToQuestion() {
    const jumpInput = document.getElementById('jumpToQuestion');
    const questionNumber = parseInt(jumpInput.value);
    
    if (!isNaN(questionNumber) && questionNumber >= 1 && questionNumber <= questions.length) {
        let targetIndex = questionNumber - 1;
        
        // Get the bookmarked indices
        const bookmarkedIndices = getBookmarkedIndices();
        
        // Check if the target index is bookmarked
        if (populateBookmarkedQuestions) {
            // If only bookmarked questions are being populated, then target index should be among bookmarked indices
            if (bookmarkedIndices.includes(targetIndex)) {
                // Set currentBookmarkIndex to the index of targetIndex in bookmarkedIndices
                currentBookmarkIndex = bookmarkedIndices.indexOf(targetIndex);
                currentQuestionIndex = targetIndex;
                showQuestion();
            } else {
                alert('Please enter a valid question number between 1 and ' + questions.length + ' that is bookmarked.');
            }
        } else {
            // If all questions are being populated, directly jump to the target index
            currentQuestionIndex = targetIndex;
            showQuestion();
        }
    } else {
        alert('Please enter a valid question number between 1 and ' + questions.length);
    }
}

</script>

<script>
const questions = [

  
    
  {
    "question": "The IPCC is the United Nations body for assessing the science related to climate change. IPCC stands for:",
    "options": [
      "Intergovernmental Provision on Climate Change",
      "International Panel on Climate Change",
      "International Provision on Climate Change",
      "Intergovernmental Panel on Climate Change"
    ],
    "correctOption": "Intergovernmental Panel on Climate Change"
  },
  {
    "question": "Nile River was known as the backbone of which country?",
    "options": [
      "Sudan",
      "Egypt",
      "Saudi Arabia",
      "Morocco"
    ],
    "correctOption": "Egypt"
  },
  {
    "question": "Allarakha Qureshi who is popularly known as Alla Rakha, is an Indian",
    "options": [
      "Veena",
      "Dholak",
      "Table",
      "Sitar"
    ],
    "correctOption": "Table"
  },
  {
    "question": "The marginal propensity to consume (MPC) refers to the:",
    "options": [
      "rate of change of consumption as income changes",
      "savings per unit of income",
      "consumption per unit of income",
      "change in savings per unit change in income"
    ],
    "correctOption": "rate of change of consumption as income changes"
  },
  {
    "question": "Majuli, the largest riverine island in the world, is associated with which of the following rivers?",
    "options": [
      "Brahmaputra",
      "Ganga",
      "Indus",
      "Godavari"
    ],
    "correctOption": "Brahmaputra"
  },
  {
    "question": "Who appoints the Union Council of Ministers?",
    "options": [
      "The Prime Minister of India",
      "The Parliament",
      "The President of India according to his own discretion",
      "The President of India on the advice of the Prime Minister"
    ],
    "correctOption": "The President of India on the advice of the Prime Minister"
  },
  {
    "question": "When did the Maharashtra government launch the 'Jail Tourism' initiative?",
    "options": [
      "November 2021",
      "May 2021",
      "August 2021",
      "January 2021"
    ],
    "correctOption": "January 2021"
  },
  {
    "question": "For which novel did Valeria Luiselli win the International Dublin Literary Award 2021?",
    "options": [
      "Lost Children Archive",
      "The Story of My Teeth",
      "Sidewalks",
      "Faces in the Crowd"
    ],
    "correctOption": "Lost Children Archive"
  },
  {
    "question": "On which date did the Constituent Assembly set up a Drafting Committee under the Chairmanship of Dr. B.R. Ambedkar to prepare a Draft Constitution for India?",
    "options": [
      "29 August, 1947",
      "20 August, 1947",
      "August 18, 1947",
      "August 25, 1947"
    ],
    "correctOption": "29 August, 1947"
  },
  {
    "question": "To increase fish consumption which state inaugurated the 'Aqua Bazaar' and 'Aqua Hub' project on 21 November 2020?",
    "options": [
      "Andhra Pradesh",
      "Kerala",
      "West Bengal",
      "Goa"
    ],
    "correctOption": "Andhra Pradesh"
  },
  {
    "question": "Which of the following has a four-chambered heart?",
    "options": [
      "Peacock",
      "Seahorse",
      "Frog",
      "Fish"
    ],
    "correctOption": "Peacock"
  },
  {
    "question": "The first-ever Industrial Policy Resolution of India was announced in which year?",
    "options": [
      "1952",
      "1955",
      "1948",
      "1960"
    ],
    "correctOption": "1948"
  },
  {
    "question": "An order or order given by a superior court to a subordinate court or tribunal or public authority if it is not discharging its duty.",
    "options": [
      "Habeas Corpus",
      "Mandamus",
      "Certiorari",
      "Quo Warranto"
    ],
    "correctOption": "Mandamus"
  },
  {
    "question": "Which of the following can be defined as 'the process in which the government sells majority stakes to one or more companies while the government still owns it and the minority stakeholder persists as'?",
    "options": [
      "Divestment",
      "Displacement",
      "Delegation",
      "Divergence"
    ],
    "correctOption": "Divestment"
  },
  {
    "question": "A consumer's optimal bundle is located at the point of tangency between the budget line and",
    "options": [
      "indifference curve",
      "law of demand",
      "income effect",
      "monotonicity"
    ],
    "correctOption": "indifference curve"
  },
  {
    "question": "Which element has atomic number 30 as per the modern periodic table?",
    "options": [
      "Iron",
      "Zinc",
      "Copper",
      "Lead"
    ],
    "correctOption": "Zinc"
  },
  {
    "question": "In Vaishnavism, how many avatars or incarnations of deity were recognized?",
    "options": [
      "5",
      "7",
      "9",
      "10"
    ],
    "correctOption": "10"
  },
  {
    "question": "The Fundamental Duties were added to the Constitution of India in the year:",
    "options": [
      "1966",
      "1986",
      "1996",
      "1976"
    ],
    "correctOption": "1976"
  },
  {
    "question": "Which of the following enzymes is used in the stabilization of rice bran oil?",
    "options": [
      "Hydrolase",
      "Catalase",
      "Lipase",
      "Cellulase"
    ],
    "correctOption": "Lipase"
  },
  {
    "question": "In Contemporary Carnatic music, how many Melakarta ragas are there?",
    "options": [
      "72",
      "82",
      "62",
      "52"
    ],
    "correctOption": "72"
  },
  {
    "question": "Who became the first official in India to be felicitated with United Nations Asia Environmental Enforcement Award in February 2021 under the Gender Leadership and Impact category?",
    "options": [
      "Birendra Singh Johari",
      "Sasmita Lenka",
      "Sudarshan Panthee",
      "Namita Gokhale"
    ],
    "correctOption": "Sasmita Lenka"
  },
  {
"question": "The Central Pollution Control Board was set up by the government in which year?",
"options": [
  "1974",
  "1956",
  "1947",
  "1965"
],
"correctOption": "1974"
},
{
"question": "Who defeated Mahmud Khilji and erected the tower of victory (Vijay Stambha) in Chittorgarh?",
"options": [
"Prithviraj Chauhan",
"Jai Chand Gadhawak",
"Rana Sangram Singh",
"Rana Kumbha"
],
"correctOption": "Rana Kumbha"
},
{
"question": "Which of the following is the oldest production unit of the Indian Railways?",
"options": [
"Rail Wheel Factory",
"Integral Coach Factory",
"Diesel Locomotive Works",
"Chittaranjan Locomotive Works"
],
"correctOption": "Chittaranjan Locomotive Works"
},
{
"question": "Article 239 deals with the:",
"options": [
"administration of union territories by Lt. Governor",
"administration of union territories by President",
"administration of union territories by Prime Minister",
"administration of union territories by Cabinet Ministers"
],
"correctOption": "administration of union territories by President"
},
{
"question": "According to Renewable Fuel Association data, which country was the world's largest producer of ethanol in the year 2020?",
"options": [
"China",
"United States of America",
"Canada",
"Brazil"
],
"correctOption": "United States of America"
},
  {
    "question": "As per Organisation for Economic Co-operation and Development (OECD) data for the year 2020, which country has the highest per capita total spending on health?",
    "options": [
      "USA",
      "Canada",
      "Russia",
      "Germany"
    ],
    "correctOption": "USA"
  },
  {
    "question": "Which of the following tropical cyclones had hit the western coast of India in May 2021?",
    "options": [
      "Vardah",
      "Date",
      "Titli",
      "Hudhud"
    ],
    "correctOption": "Date"
  },
  {
    "question": "What is sublimation?",
    "options": [
      "Direct transformation of a substance from gas to liquid state.",
      "Direct transformation of a substance from gas to solid state",
      "Change of a substance directly from liquid to gas state.",
      "Change of a substance directly from solid to gas state"
    ],
    "correctOption": "Change of a substance directly from solid to gas state"
  },
  {
    "question": "Which of the following persons was honored with the highest award of the Central European University Open Society Award in June 2021?",
    "options": [
      "Deepak Sawant",
      "Satyendar Jain",
      "Harsh Vardhan",
      "KK Shailaja"
    ],
    "correctOption": "KK Shailaja"
  },
  {
    "question": "On 3 August 2021, who became India's 69th Grandmaster of Chess at the Biel Masters Open?",
    "options": [
      "Harshit Raja",
      "Nihal Sarin",
      "Dommaraju Gukesh",
      "Prithu Gupta"
    ],
    "correctOption": "Harshit Raja"
  },
  {
    "question": "Bodo language is spoken mainly in which of the following states of India?",
    "options": [
      "Assam",
      "Jharkhand",
      "Himachal Pradesh",
      "Karnataka"
    ],
    "correctOption": "Assam"
  },
  {
    "question": "Which of the following is the SI unit of electric charge and is equivalent to the charge contained in nearly 6 √ó 10^18 electrons?",
    "options": [
      "Coulomb",
      "Siemens",
      "Becquerel",
      "Henry"
    ],
    "correctOption": "Coulomb"
  },
  {
    "question": "As of December 2021, the total number of nuclear power plants in India is",
    "options": [
      "7",
      "9",
      "6",
      "10"
    ],
    "correctOption": "7"
  },
  {
    "question": "Which institute received the Africa Food Prize 2021, for the Tropical Legumes Project that has improved income and food production in sub-Saharan Africa?",
    "options": [
      "National Rice Research Institute (NRRI)",
      "Central Arid Zone Research Institute (CAZRI)",
      "International Crops Research Institute for the Semi-Arid Tropics (ICRISAT)",
      "Indian Institute of Sugarcane Research (IISR)"
    ],
    "correctOption": "International Crops Research Institute for the Semi-Arid Tropics (ICRISAT)"
  },
  {
    "question": "As per Human Development Index Ranking (2020), which country has the highest life expectancy at birth (years)?",
    "options": [
      "Norway",
      "France",
      "Hong Kong, China (SAR)",
      "Denmark"
    ],
    "correctOption": "Hong Kong, China (SAR)"
  },
  {
    "question": "The Champaran Satyagraha took place in the year",
    "options": [
      "1915",
      "1910",
      "1912",
      "1917"
    ],
    "correctOption": "1917"
  },
  {
    "question": "In the year 2021, DRDO launched which satellite by PSLV-C51 to enhance India's surveillance capability in the Indian Ocean Region (IOR)?",
    "options": [
      "Satish Dhawan Satellite",
      "Sindhu Netra Satellite",
      "Sindhu Durga Satellite",
      "Sri Shakti Satellite"
    ],
    "correctOption": "Sindhu Netra Satellite"
  },
  {
    "question": "Which of the following internet protocols allows us to access the data over the World Wide Web?",
    "options": [
      "DNS",
      "SNMP",
      "HTTP",
      "FTP"
    ],
    "correctOption": "HTTP"
  },
  {
    "question": "Which Indian shooter won two Paralympic medals in the single edition of Paralympic on 3 September 2021?",
    "options": [
      "Naresh Sharma",
      "Avani Lekhara",
      "Singhraj Adhana",
      "Manish Narwal"
    ],
    "correctOption": "Avani Lekhara"
  },
  {
    "question": "Which of the following is a non-conventional source of energy?",
    "options": [
      "Wood",
      "Petrol",
      "Wind",
      "Coal"
    ],
    "correctOption": "Wind"
  },
  {
    "question": "According to the Census of India 2011, how many 'million-plus cities' were there in India?",
    "options": [
      "53",
      "47",
      "58",
      "40"
    ],
    "correctOption": "53"
  },
  {
    "question": "In which of the following states of India is Padayani a ritual dance art form performed at Bhadrakali temple?",
    "options": [
      "Karnataka",
      "Maharashtra",
      "Kerala",
      "Tamil Nadu"
    ],
    "correctOption": "Kerala"
  },
  {
    "question": "The Sahitya Akademi was formally inaugurated by the Government of India on which date?",
    "options": [
      "1956",
      "1954",
      "1958",
      "1952"
    ],
    "correctOption": "1954"
  },
  {
    "question": "Which ceremonial folk dance of Puducherry is related to the Hindu epic Ramayana, performed at the Villianur temple in Puducherry?",
    "options": [
      "Garadi",
      "Hulivesha",
      "Dalkhai",
      "Tipsy"
    ],
    "correctOption": "Garadi"
  },
  {
    "question": "Which character is used to create an absolute address in MS-Excel?",
    "options": [
      "Dollar ($)",
      "Ampersand (&)",
      "Percent (%)",
      "Hash (#)"
    ],
    "correctOption": "Dollar ($)"
  },
  {
    "question": "The people of Sikkim celebrate Lhabab Dhuechen to mark the descent of",
"options": [
"Lord Vishnu",
"Lord Buddha",
"Lord Shiva",
"Lord Mahaviira"
],
"correctOption": "Lord Buddha"
},
{
"question": "Padma Shri Minati Mishra was an Indian classical dancer and actress, known for her expertise in which of the following Indian classical dance forms?",
"options": [
"Kathak",
"Kathakali",
"Bharatanatyam",
"Odissi"
],
"correctOption": "Odissi"
},
{
"question": "Which of the following works of Kalidasa is based on the context of the birth of Kartikeya, the son of God Shiva and Goddess Parvati?",
"options": [
"Meghaduta",
"Raghuvamsa",
"Kumarasambhava",
"Ritusamhara"
],
"correctOption": "Kumarasambhava"
},


      // Add more questions as needed
];

showQuestion(); // Initial display of the first question
 function updateTotalQuestionCount() {
      const totalQuestionCount = questions.length;
      document.getElementById('totalQuestionCount').textContent = totalQuestionCount;
    }

    // Call the function to update total question count initially
    updateTotalQuestionCount();
</script>
</body>
</html>
